; generated by ARM C/C++ Compiler with , RVCT4.0 [Build 524] for uVision
; commandline ArmCC [--debug -c --asm --interleave -o..\OBJ\usb_mem.o --depend=..\OBJ\usb_mem.d --device=DARMSTM --apcs=interwork -O0 -I..\SYSTEM\delay -I..\SYSTEM\sys -I..\SYSTEM\usart -I..\USMART -I..\HARDWARE\LED -I..\HARDWARE\BEEP -I..\HARDWARE\KEY -I..\HARDWARE\EXTI -I..\HARDWARE\WDG -I..\HARDWARE\TIMER -I..\HARDWARE\TPAD -I..\HARDWARE\OLED -I..\HARDWARE\LCD -I..\HARDWARE\RTC -I..\HARDWARE\WKUP -I..\HARDWARE\ADC -I..\HARDWARE\DAC -I..\HARDWARE\DMA -I..\HARDWARE\24CXX -I..\HARDWARE\SPI -I..\HARDWARE\FLASH -I..\USER -I..\USB\LIB -I..\USB\CONFIG -IC:\Keil\ARM\INC\ST\STM32F10x --omf_browse=..\OBJ\usb_mem.crf ..\USB\LIB\usb_mem.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  UserToPMABufferCopy PROC
;;;34     *******************************************************************************/
;;;35     void UserToPMABufferCopy(u8 *pbUsrBuf, u16 wPMABufAddr, u16 wNBytes)
000000  b5f0              PUSH     {r4-r7,lr}
;;;36     {
;;;37       u32 n = (wNBytes + 1) >> 1; //64  /* n = (wNBytes + 1) / 2 */
000002  f1020c01          ADD      r12,r2,#1
000006  ea4f036c          ASR      r3,r12,#1
;;;38       u32 i, temp1, temp2;
;;;39       u16 *pdwVal;
;;;40       pdwVal = (u16 *)(wPMABufAddr * 2 + PMAAddr);
00000a  f8dfe048          LDR      lr,|L1.84|
00000e  eb0e0741          ADD      r7,lr,r1,LSL #1
;;;41       for (i = n; i != 0; i--)
000012  461c              MOV      r4,r3
000014  e00a              B        |L1.44|
                  |L1.22|
;;;42       {
;;;43         temp1 = (u16) * pbUsrBuf;
000016  7806              LDRB     r6,[r0,#0]
;;;44         pbUsrBuf++;
000018  1c40              ADDS     r0,r0,#1
;;;45         temp2 = temp1 | (u16) * pbUsrBuf << 8;
00001a  f890c000          LDRB     r12,[r0,#0]
00001e  ea46250c          ORR      r5,r6,r12,LSL #8
;;;46         *pdwVal++ = temp2;
000022  f8275b02          STRH     r5,[r7],#2
;;;47         pdwVal++;
000026  1cbf              ADDS     r7,r7,#2
;;;48         pbUsrBuf++;
000028  1c40              ADDS     r0,r0,#1
00002a  1e64              SUBS     r4,r4,#1              ;41
                  |L1.44|
00002c  2c00              CMP      r4,#0                 ;41
00002e  d1f2              BNE      |L1.22|
;;;49       }
;;;50     }
000030  bdf0              POP      {r4-r7,pc}
;;;51     /*******************************************************************************
                          ENDP

                  PMAToUserBufferCopy PROC
;;;59     *******************************************************************************/
;;;60     void PMAToUserBufferCopy(u8 *pbUsrBuf, u16 wPMABufAddr, u16 wNBytes)
000032  b5f0              PUSH     {r4-r7,lr}
;;;61     {
;;;62       u32 n = (wNBytes + 1) >> 1;/* /2*/
000034  1c56              ADDS     r6,r2,#1
000036  1073              ASRS     r3,r6,#1
;;;63       u32 i;
;;;64       u32 *pdwVal;
;;;65       pdwVal = (u32 *)(wPMABufAddr * 2 + PMAAddr);
000038  4f06              LDR      r7,|L1.84|
00003a  eb070541          ADD      r5,r7,r1,LSL #1
;;;66       for (i = n; i != 0; i--)
00003e  461c              MOV      r4,r3
000040  e004              B        |L1.76|
                  |L1.66|
;;;67       {
;;;68         *(u16*)pbUsrBuf++ = *pdwVal++;
000042  cd80              LDM      r5!,{r7}
000044  f8207b01          STRH     r7,[r0],#1
;;;69         pbUsrBuf++;
000048  1c40              ADDS     r0,r0,#1
00004a  1e64              SUBS     r4,r4,#1              ;66
                  |L1.76|
00004c  2c00              CMP      r4,#0                 ;66
00004e  d1f8              BNE      |L1.66|
;;;70       }
;;;71     }
000050  bdf0              POP      {r4-r7,pc}
;;;72     
                          ENDP

000052  0000              DCW      0x0000
                  |L1.84|
                          DCD      0x40006000
